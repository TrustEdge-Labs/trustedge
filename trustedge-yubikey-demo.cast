{"version": 2, "width": 173, "height": 48, "timestamp": 1760926574, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.356313, "o", "\u001b[?2004h\u001b[34;1m10:16:14 \u001b[0;97m\u001b[0;97m\u001b[90;1mjohn@darp66 \u001b[36;1mtrustedge ±\u001b[0;32m|main \u001b[0;31m✗\u001b[0;32m|\u001b[32;1m→ \u001b[0m"]
[10.590454, "o", "."]
[10.654886, "o", "/"]
[11.901375, "o", "t"]
[12.119609, "o", "r"]
[12.316617, "o", "u"]
[12.442203, "o", "s"]
[12.689478, "o", "t"]
[13.032766, "o", "e"]
[13.234907, "o", "d"]
[13.35579, "o", "g"]
[13.573284, "o", "e"]
[13.745014, "o", "-"]
[13.962214, "o", "d"]
[14.173615, "o", "e"]
[14.456488, "o", "m"]
[14.759173, "o", "o"]
[15.30869, "o", "."]
[17.14553, "o", "sh "]
[20.417078, "o", "\r\n\u001b[?2004l\r"]
[20.422548, "o", "\u001b[H\u001b[2J\u001b[3J"]
[20.423016, "o", "╔════════════════════════════════════════════════════════════════╗\r\n"]
[20.423041, "o", "║  TrustEdge: Hardware-Backed Security for IoT Devices          ║\r\n║  Demo: YubiKey PIV Integration via PKCS#11                     ║\r\n"]
[20.423091, "o", "╚════════════════════════════════════════════════════════════════╝\r\n"]
[20.423103, "o", "\r\n"]
[20.423145, "o", "Demonstration of hardware-backed X.509 certificate generation\r\nusing factory-default YubiKey (PIN: 123456)\r\n\r\n"]
[22.426015, "o", "─────────────────────────────────────────────────────────────────\r\nStep 1: Verify YubiKey Hardware\r\n─────────────────────────────────────────────────────────────────\r\n"]
[22.431933, "o", "Bus 003 Device 006: ID 1050:0407 Yubico.com Yubikey 4/5 OTP+U2F+CCID\r\n"]
[22.431968, "o", "\r\n"]
[23.434425, "o", "─────────────────────────────────────────────────────────────────\r\nStep 2: Generate Hardware-Backed Certificate\r\n─────────────────────────────────────────────────────────────────\r\n"]
[23.684036, "o", "\u001b[1m\u001b[32m    Finished\u001b[0m \u001b]8;;https://doc.rust-lang.org/cargo/reference/profiles.html#default-profiles\u001b\\`dev` profile [unoptimized + debuginfo]\u001b]8;;\u001b\\ target(s) in 0.21s\r\n"]
[23.695687, "o", "\u001b[1m\u001b[32m     Running\u001b[0m `target/debug/examples/yubikey_demo 123456`\r\n"]
[23.703249, "o", "● TrustEdge YubiKey Integration Demo\r\n===================================\r\n\r\nThis demo showcases complete YubiKey hardware integration:\r\n• Hardware public key extraction from PIV slots\r\n• X.509 certificate generation with real keys\r\n• Hardware-backed certificate signing\r\n• Certificate validation and export\r\n"]
[23.703496, "o", "\r\n📋 Configuration:\r\n   PKCS#11 Module: /usr/lib/x86_64-linux-gnu/opensc-pkcs11.so\r\n   PIN: Provided\r\n   Slot: None\r\n\r\n● Initializing YubiKey Backend...\r\n● Initializing YubiKey backend with real hardware integration...\r\n"]
[23.856764, "o", "✔ YubiKey hardware connected (Serial: 26476598)\r\n"]
[23.888596, "o", "✔ Using PKCS#11 slot: 0\r\n● Attempting PIN authentication...\r\n"]
[23.898442, "o", "✔ Authenticated with PIN\r\n✔ YubiKey backend initialized successfully\r\n   ✔ YubiKey backend initialized successfully\r\n\r\n🔍 Scanning PIV Slots for Keys:\r\n   9a (PIV Authentication): ● Extracting public key for: 9a\r\n   Phase 2A: Using real PKCS#11 hardware extraction\r\n   Searching for YubiKey key object: 9a\r\n   Searching with criteria: ById([154])\r\n"]
[23.898532, "o", "⚠ Hardware extraction failed: Public key '9a' not found on YubiKey\r\n   Using compliant ECDSA P-256 public key structure for compatibility\r\n"]
[23.898572, "o", "✔ ECDSA P-256 public key generated (91 bytes DER)\r\n● Using YubiKey hardware signing for key: 9a\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n"]
[23.898987, "o", "● Looking for key '9a' with object ID: [01]\r\n● Found 1 objects matching criteria\r\n"]
[23.974507, "o", "✔ PKCS#11 signed 32 bytes with key '9a'\r\n✔ Key found (91 bytes)\r\n   9c (Key Management): ● Extracting public key for: 9c\r\n   Phase 2A: Using real PKCS#11 hardware extraction\r\n   Searching for YubiKey key object: 9c\r\n   Searching with criteria: ById([156])\r\n⚠ Hardware extraction failed: Public key '9c' not found on YubiKey\r\n   Using compliant ECDSA P-256 public key structure for compatibility\r\n✔ ECDSA P-256 public key generated (91 bytes DER)\r\n● Using YubiKey hardware signing for key: 9c\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n● Looking for key '9c' with object ID: [02]\r\n● Found 0 objects matching criteria\r\n⚠ Public key extracted but signing failed (no hardware key)\r\n   9d (Card Authentication): ● Extracting public key for: 9d\r\n   Phase 2A: Using real PKCS#11 hardware extraction\r\n   Searching for YubiKey key object: 9d\r\n   Searching with criteria: ById([157])\r\n⚠ Hardware extraction failed: Public key '9d' not found on YubiKey\r\n   Using compliant EC"]
[23.974601, "o", "DSA P-256 public key structure for compatibility\r\n✔ ECDSA P-256 public key generated (91 bytes DER)\r\n● Using YubiKey hardware signing for key: 9d\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n● Looking for key '9d' with object ID: [03]\r\n● Found 0 objects matching criteria\r\n⚠ Public key extracted but signing failed (no hardware key)\r\n   9e (Digital Signature): ● Extracting public key for: 9e\r\n   Phase 2A: Using real PKCS#11 hardware extraction\r\n   Searching for YubiKey key object: 9e\r\n   Searching with criteria: ById([158])\r\n⚠ Hardware extraction failed: Public key '9e' not found on YubiKey\r\n   Using compliant ECDSA P-256 public key structure for compatibility\r\n✔ ECDSA P-256 public key generated (91 bytes DER)\r\n● Using YubiKey hardware signing for key: 9e\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n● Looking for key '9e' with object ID: [04]\r\n● Found 0 objects matching criteria\r\n⚠ Public key extracted but signing fa"]
[23.974629, "o", "iled (no hardware key)\r\n\r\n● Using slot 9a for demonstration\r\n\r\n● Hardware Key Extraction:\r\n   Extracting public key from YubiKey PIV slot 9a...\r\n   ✔ Public key extracted (91 bytes)\r\n   📊 Key Analysis:\r\n      Size: 91 bytes\r\n      Format: ASN.1 DER (SubjectPublicKeyInfo)\r\n      Preview: 3058301206072a8648ce3d020106082a...\r\n\r\n🔒 Hardware Signing Test:\r\n● Using YubiKey hardware signing for key: 9a\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n● Looking for key '9a' with object ID: [01]\r\n● Found 1 objects matching criteria\r\n"]
[24.050748, "o", "✔ PKCS#11 signed 32 bytes with key '9a'\r\n   ✔ Hardware signature generated (64 bytes)\r\n   ⚠ Signature appears to be raw format\r\n\r\n🏭 X.509 Certificate Generation:\r\n   Creating hardware-backed certificate...\r\n   🔒 Signing certificate with YubiKey hardware...\r\n● Using YubiKey hardware signing for key: 9a\r\n● YubiKey Serial: 26476598\r\n● Using PKCS#11 interface for hardware signing\r\n● Looking for key '9a' with object ID: [01]\r\n● Found 1 objects matching criteria\r\n"]
[24.126231, "o", "✔ PKCS#11 signed 32 bytes with key '9a'\r\n   ✔ Certificate signed (317 bytes total)\r\n"]
[24.126362, "o", "   💾 Certificate saved to: yubikey_cert_slot_9a.der\r\n\r\n📋 Certificate Analysis:\r\n   📊 Certificate Analysis:\r\n      Total size: 317 bytes\r\n      ✔ Valid ASN.1 SEQUENCE structure\r\n      ✔ ECDSA-SHA256 signature algorithm detected\r\n      ✔ Signature found at offset 42 (85 bytes)\r\n      💡 Use OpenSSL to verify: openssl x509 -inform DER -text -noout\r\n\r\n🔍 Certificate Verification:\r\n   To verify this certificate with OpenSSL:\r\n   openssl x509 -in yubikey_cert_slot_9a.der -inform DER -text -noout\r\n   openssl x509 -in yubikey_cert_slot_9a.der -inform DER -fingerprint -noout\r\n\r\n✔ YubiKey Demo Complete!\r\n✔ Hardware key extraction verified\r\n✔ Hardware signing operations successful\r\n✔ X.509 certificate generation completed\r\n✔ Certificate exported in standard DER format\r\n\r\n● Your YubiKey is ready for TrustEdge integration!\r\n"]
[24.130599, "o", "\r\n"]
[25.133138, "o", "─────────────────────────────────────────────────────────────────\r\nStep 3: Verify Certificate with OpenSSL\r\n─────────────────────────────────────────────────────────────────\r\n"]
[25.16208, "o", "Could not find certificate from yubikey_cert_slot_9a.der\r\n408C1C6CB5740000:error:1608010C:STORE routines:ossl_store_handle_load_result:unsupported:crypto/store/store_result.c:162:provider=default\r\n"]
[25.163162, "o", "\r\n"]
[25.163239, "o", "╔════════════════════════════════════════════════════════════════╗\r\n"]
[25.16328, "o", "║  ✔ Hardware-backed signing proven via PKCS#11                  ║\r\n"]
[25.163323, "o", "║  ✔ Private key never left the YubiKey                          ║\r\n"]
[25.163353, "o", "║  ✔ Standards-compliant X.509 certificate                       ║\r\n"]
[25.163391, "o", "╚════════════════════════════════════════════════════════════════╝\r\n"]
[25.163418, "o", "\r\n"]
[25.163445, "o", "Source: https://github.com/trustedge-labs/trustedge\r\nCommercial support: pilot@trustedgelabs.com\r\n"]
[25.188313, "o", "\u001b[?2004h\u001b[34;1m10:16:39 \u001b[0;97m\u001b[0;97m\u001b[90;1mjohn@darp66 \u001b[36;1mtrustedge ±\u001b[0;32m|main \u001b[0;31m✗\u001b[0;32m|\u001b[32;1m→ \u001b[0m"]
[27.573257, "o", "e"]
[27.85581, "o", "x"]
[28.249898, "o", "i"]
[28.521822, "o", "t"]
[29.067156, "o", "\r\n\u001b[?2004l\r"]
[29.067235, "o", "exit\r\n"]
