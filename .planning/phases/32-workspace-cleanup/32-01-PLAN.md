---
phase: 32-workspace-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Cargo.toml
  - crates/receipts/
  - crates/attestation/
autonomous: true
requirements:
  - WRK-01

must_haves:
  truths:
    - "trustedge-receipts and trustedge-attestation directories do not exist on disk"
    - "cargo build --workspace succeeds without the facade crates"
    - "Cargo.lock no longer references trustedge-receipts or trustedge-attestation"
  artifacts:
    - path: "Cargo.toml"
      provides: "Workspace members list without facade crates"
      contains: "members = ["
  key_links:
    - from: "Cargo.toml"
      to: "crates/"
      via: "workspace members list"
      pattern: "crates/receipts|crates/attestation"
---

<objective>
Delete the deprecated facade crates (trustedge-receipts and trustedge-attestation) from the workspace.

Purpose: These crates are empty re-export facades that add workspace noise and CI overhead. They are not published on crates.io, so no yanking is needed. Git history preserves them.
Output: Workspace builds cleanly without the two facade crates.
</objective>

<execution_context>
@/home/john/.claude/get-shit-done/workflows/execute-plan.md
@/home/john/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@Cargo.toml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete facade crate directories and remove from workspace</name>
  <files>Cargo.toml, crates/receipts/, crates/attestation/</files>
  <action>
1. Delete `crates/receipts/` directory entirely: `rm -rf crates/receipts/`
2. Delete `crates/attestation/` directory entirely: `rm -rf crates/attestation/`
3. Edit root `Cargo.toml`:
   - Remove `"crates/attestation"` from the `[workspace] members` array
   - Remove `"crates/receipts"` from the `[workspace] members` array
   - Remove the two lines from the Crate Classification comment block that mention trustedge-receipts and trustedge-attestation
4. Run `cargo build --workspace --bins --no-default-features` to verify the workspace builds cleanly
5. Run `cargo test -p trustedge-core --lib` to verify no test regression
6. Verify Cargo.lock no longer contains `trustedge-receipts` or `trustedge-attestation`: `grep -c 'trustedge-receipts\|trustedge-attestation' Cargo.lock` should return 0
  </action>
  <verify>
- `ls crates/receipts/ crates/attestation/ 2>&1` returns "No such file or directory" for both
- `cargo build --workspace --bins --no-default-features` succeeds
- `cargo test -p trustedge-core --lib` passes
- `grep -c 'trustedge-receipts\|trustedge-attestation' Cargo.lock` returns 0
  </verify>
  <done>Facade crate directories are deleted from disk, removed from workspace members, and the workspace builds and tests successfully without them.</done>
</task>

</tasks>

<verification>
- `crates/receipts/` and `crates/attestation/` do not exist on disk
- `cargo build --workspace` succeeds
- `cargo test -p trustedge-core --lib` passes (no regression)
- No references to facade crates in Cargo.lock
</verification>

<success_criteria>
The two deprecated facade crates are completely removed from the workspace. The workspace builds and all core tests pass.
</success_criteria>

<output>
After completion, create `.planning/phases/32-workspace-cleanup/32-01-SUMMARY.md`
</output>
